"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.usePersist = void 0;
const react_1 = require("react");
const usePersist = (key, data) => {
    const storageKey = `persist-cache-${key}`;
    const storageValue = localStorage.getItem(storageKey);
    const persistedValue = JSON.parse(storageValue !== null && storageValue !== void 0 ? storageValue : '{}');
    const [state, setState] = react_1.useState(storageValue ? persistedValue : data);
    react_1.useEffect(() => {
        if (data) {
            setState(data);
            localStorage.setItem(storageKey, JSON.stringify(data));
        }
    }, [data, storageKey]);
    return state;
};
exports.usePersist = usePersist;
//# sourceMappingURL=usePersist.js.map